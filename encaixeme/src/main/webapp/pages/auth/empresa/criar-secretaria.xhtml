<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html lang="pt" 
	xmlns:o="http://omnifaces.org/ui"
	xmlns:p="http://primefaces.org/ui"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:sec="http://www.springframework.org/security/tags">

	<ui:composition template="/WEB-INF/decorador/layout-autenticado.xhtml">
		<ui:define name="conteudo">
			<sec:authorize ifAllGranted="EMPRESA">
				<div id="wrapper">
					<ui:include src="/pages/auth/empresa/sidebar.xhtml" />

					<div id="page-content-wrapper">
						<div class="container-fluid">
							<a href="#menu-toggle" id="menu-toggle">
								<img 
									alt="Botão para minimizar a aba de utilidades do sistema" 
									class="logo" jsf:library="img" jsf:name="bt_toggle.png" />
							</a>

							<div style="margin-top: 2% !important;" />
							
							<h:form id="frm-altera-empresa" prependId="false">
								<div class="panel panel-default">
									<div class="panel-heading">
										<h1>Alterar dados do estabelecimento</h1>
									</div>

									<div class="panel-body">
										<div class="col-md-12">
											<p:messages autoUpdate="true" closable="true" />
										</div>

										<div class="col-md-6">
											<input id="ddd"
												class="form-control"
												name="ddd" 
												jsf:value="#{alteraEmpresaBean.empresa.ddd}"
												type="text" />
										</div>

										<div class="col-md-6">
											<input id="telefone"
												class="form-control"
												name="telefone" 
												jsf:value="#{alteraEmpresaBean.empresa.telefone}"
												type="text" />
										</div>

										<div class="col-md-6">
											<input id="site"
												class="form-control"
												name="site" 
												jsf:value="#{alteraEmpresaBean.empresa.site}"
												type="text" />
										</div>

										<div class="col-md-6">
											<input id="cnpj"
												class="form-control"
												name="cnpj" 
												jsf:value="#{alteraEmpresaBean.empresa.usuario.login}"
												type="text" />
										</div>

										<div class="col-md-6">
											<input id="razao-social"
												class="form-control"
												name="razao-social" 
												jsf:value="#{alteraEmpresaBean.empresa.razaoSocial}"
												type="text" />
										</div>

										<div class="col-md-6">
											<input id="email"
												class="form-control"
												name="email" 
												jsf:value="#{alteraEmpresaBean.empresa.usuario.email}"
												type="text" />
										</div>

										<div class="col-md-6">
											<input id="responsavel"
												class="form-control"
												name="responsavel" 
												jsf:value="#{alteraEmpresaBean.empresa.responsavel}"
												type="text" />
										</div>

										<div class="col-md-12">	
											<p:commandLink action="#{alteraEmpresaBean.alterar()}"
												id="btn-alterar">
												<img 
													alt="Botão que cadastra uma secretária" 
													data-toggle="tooltip" 
													data-placement="bottom" 
													jsf:library="img" 
													jsf:name="bt-salvar.png"
													title="Clique para aplicar as alterações"
													style="margin-top: 2%" />
												<p:ajax update="status" />
											</p:commandLink>
										</div>

									</div> <!-- panel-body -->
								</div> <!-- panel panel-default -->
							</h:form>

							<div style="margin-top: 2% !important;" />

							<h:form 
								id="frm-secretaria"
								prependId="false">
								<div class="panel panel-default">
									<div class="panel-heading">
										<h1>Criar secretárias</h1>
									</div>

									<div class="panel-body">
										<div class="col-md-12">
											<p:messages autoUpdate="true" closable="true" />
										</div>

										<div class="col-md-12">
											<input id="nome"
												class="form-control"
												name="nome"
												placeholder="Nome completo da secretaria" 
												jsf:value="#{secretariaBean.form.entidade.nome}"
												type="text" />
										</div>

										<div class="col-md-12">
											<input id="email-secretaria"
												class="form-control"
												jsf:value="#{secretariaBean.form.entidade.usuario.email}"
												name="email-secretaria"
												placeholder="E-mail da secretária"
												style="margin-top: 1% !important;" 
												type="text" /> 
										</div>

										<div class="col-md-12">
								            <p:commandLink
								            	action="#{secretariaBean.salvar()}"
								            	ajax="true"
								            	id="btn-salvar-secretaria">
												<img 
													alt="Botão que cadastra uma secretária" 
													data-toggle="tooltip" 
													data-placement="bottom" 
													jsf:library="img" 
													jsf:name="bt-salvar.png"
													title="Clique para cadastrar a secretária"
													style="margin-top: 2%" />
												<p:ajax update="status" />
							            	</p:commandLink>
										</div>
									</div>
								</div>
							</h:form>
						</div><!-- container-fluid -->
					</div><!-- page-content-wrapper -->
				</div><!-- wrapper -->
			</sec:authorize>
		</ui:define>
	</ui:composition>
</html>